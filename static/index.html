<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¡¨æ ¼è¾¨è­˜ - Linus å¼æ¥µç°¡ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Canvas é¸å–æ¡†æ¨£å¼ */
        #preview-canvas {
            cursor: crosshair;
            border: 2px solid #3b82f6;
            max-width: 100%;
        }

        .selection-box {
            position: absolute;
            border: 2px dashed #ef4444;
            background: rgba(239, 68, 68, 0.1);
            pointer-events: none;
        }

        /* è¡¨æ ¼æ¨£å¼ */
        .result-table {
            border-collapse: collapse;
            width: 100%;
        }

        .result-table th,
        .result-table td {
            border: 1px solid #e5e7eb;
            padding: 8px 12px;
            text-align: left;
        }

        .result-table th {
            background: #f3f4f6;
            font-weight: 600;
        }

        .result-table tr:hover {
            background: #f9fafb;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900 mb-2">è¡¨æ ¼è¾¨è­˜</h1>
            <p class="text-gray-600">Linus å¼æ¥µç°¡æ¶æ§‹ - é›¶æ¡†æ¶ï¼Œç´” HTML + Python</p>
        </header>

        <!-- æ­¥é©Ÿ 1: ä¸Šå‚³æ–‡ä»¶ -->
        <section id="upload-section" class="bg-white rounded-lg shadow p-6 mb-6">
            <h2 class="text-2xl font-semibold mb-4">æ­¥é©Ÿ 1: ä¸Šå‚³æ–‡ä»¶</h2>

            <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition">
                <input type="file" id="file-input" accept=".pdf,.png,.jpg,.jpeg" class="hidden">
                <label for="file-input" class="cursor-pointer">
                    <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                        <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p class="mt-2 text-sm text-gray-600">
                        é»æ“Šé¸æ“‡æ–‡ä»¶æˆ–æ‹–æ”¾åˆ°é€™è£¡
                    </p>
                    <p class="text-xs text-gray-500 mt-1">
                        æ”¯æ´ PDF, PNG, JPG (æœ€å¤§ 10MB)
                    </p>
                </label>
            </div>

            <div id="upload-status" class="mt-4 hidden">
                <div class="flex items-center text-blue-600">
                    <svg class="animate-spin h-5 w-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    ä¸Šå‚³ä¸­...
                </div>
            </div>
        </section>

        <!-- æ­¥é©Ÿ 2: é è¦½ä¸¦æ¡†é¸ -->
        <section id="preview-section" class="bg-white rounded-lg shadow p-6 mb-6 hidden">
            <h2 class="text-2xl font-semibold mb-4">æ­¥é©Ÿ 2: æ¡†é¸è¡¨æ ¼å€åŸŸ</h2>

            <div class="mb-4 flex gap-4">
                <select id="table-type" class="px-4 py-2 border rounded-lg">
                    <option value="auto">è‡ªå‹•åˆ¤æ–·</option>
                    <option value="wired">æœ‰ç·šè¡¨æ ¼</option>
                    <option value="lineless">ç„¡ç·šè¡¨æ ¼</option>
                </select>

                <button id="recognize-btn" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
                    é–‹å§‹è­˜åˆ¥
                </button>

                <button id="reset-selection" class="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition">
                    é‡ç½®é¸å–
                </button>
            </div>

            <div class="relative inline-block">
                <canvas id="preview-canvas"></canvas>
                <div id="selection-box" class="selection-box hidden"></div>
            </div>

            <p class="text-sm text-gray-600 mt-4">
                ğŸ’¡ æç¤ºï¼šåœ¨åœ–ç‰‡ä¸Šæ‹–æ›³æ»‘é¼ æ¡†é¸è¡¨æ ¼å€åŸŸï¼Œæˆ–ç›´æ¥é»æ“Šã€Œé–‹å§‹è­˜åˆ¥ã€è™•ç†æ•´å¼µåœ–ç‰‡
            </p>
        </section>

        <!-- æ­¥é©Ÿ 3: é¡¯ç¤ºçµæœ -->
        <section id="result-section" class="bg-white rounded-lg shadow p-6 hidden">
            <h2 class="text-2xl font-semibold mb-4">æ­¥é©Ÿ 3: è­˜åˆ¥çµæœ</h2>

            <div class="mb-4 flex gap-4">
                <button id="copy-btn" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
                    ğŸ“‹ è¤‡è£½ç‚º CSV
                </button>

                <button id="download-btn" class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition">
                    ğŸ“¥ ä¸‹è¼‰ CSV
                </button>

                <button id="new-upload-btn" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition">
                    ğŸ“¤ ä¸Šå‚³æ–°æ–‡ä»¶
                </button>
            </div>

            <div id="result-container" class="overflow-x-auto">
                <!-- è¡¨æ ¼çµæœå°‡æ’å…¥é€™è£¡ -->
            </div>
        </section>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>